<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Bootstrap demo</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    </head>
    <body style="margin: 3rem;">
    <div class="container">
        <h1>Add Book</h1>

        <% if(error.length > 0){ %>
            <div class="alert alert-danger" role="alert">
                <h4 class="alert-heading">Oh no!</h4>
                <p>You type your input incorrectly</p>
                <hr>
                <% error.forEach(item => { %>
                    <p class="mb-0"><%= item %></p>
                <% }) %>
              
            </div>
        <% } %>
    
        <form action="/books/add" method="post" enctype="multipart/form-data">
            <div class="mb-3">
            <label class="form-label" for="title">Title of the Book</label>
            <input class="form-control" type="varcar" id="title" name="title">
            </div>
            <div class="mb-3">
                <label class="form-label" for="genre">Genre of the Book</label>
                <select class="form-select" id="genre" name="genre">
                    <% ["Fantasy", "Romance", "Horror", "Mystery", "Sci-Fi", "Fiction"].forEach(item => { %>
                        <option value="<%= item %>"><%= item %></option>
                    <% }) %>
                </select>
            </div>
            <div class="mb-3">
                <label class="form-label" for="description">Description of the Book</label>
                <textarea class="form-control" id="description" name="description" cols="30" rows="4"></textarea>
            </div>
            <div class="mb-3">
                <label class="form-label" for="text">Story of the Book</label>
                <textarea class="form-control" name="text" id="text" cols="30" rows="10"></textarea>
            </div>
            <div class="mb-3">
                <label class="form-label" for="AuthorId">Name Author of the Book</label>
                <select class="form-select" name="AuthorId">
                    <% dataAdd.forEach((item) => { %>
                        <option name="AuthorId" value="<%= item.id %>"><%= item.name %></option>
                    <% }) %> 
                </select>           
                <div class="form-text">Don't find the author? Add them <a href="/authors/add">here</a></div> 
            </div>
            <div class="mb-3">
                <label class="form-label" for="image">Photo Front of the Book</label>
                <input class="form-control" type="file" id="image" name="image">
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </div>
    

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  </body>
</html>